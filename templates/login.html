<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device.width, initial-scale=1">
    </head>
    {% extends "layout.html" %}
    {% block title %}Etusivu{% endblock %}
    <body>
        {% block content %}
        <form id="login-form" action="/login" method="POST">
            {% if error %}
                <p style="color: red;">{{ error }}</p>
            {% endif %}
            Tunnus: <input type="text" id="username" name="username">
            <p>
            Salasana: <input type="password" id="password" name="password">
            <p>
            <input type="submit" value="Kirjaudu">
        </form>
        If you do not have an account you can register here <a href="/register">tästä</a>
        {% endblock %}

        {% block scripts %}
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const loginForm = document.getElementById('login-form');
    
                loginForm.addEventListener('submit', function(event) {
                    const username = document.getElementById('username').value.trim();
                    const password = document.getElementById('password').value;

                    if (username.length < 4 || username.length > 20) {
                        alert('Please enter a username between 4-20 characters.');
                        event.preventDefault();
                        return;
                    }

                    if (password.length < 8 || password.length > 20) {
                        alert('Please enter a password between 8-20 characters.');
                        event.preventDefault();
                        return;
                    }

                });
            })
        </script>
        {% endblock %}
    </body>
</html>